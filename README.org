#+STARTUP: showall indent

* WSL Utilities

Windows Subsystem for Linux で動作するユティリティコマンド群です。

各コマンドでは wslcommon をインポートしていますので、コマンドと同じ場所（コマンドパスが通ったディレクトリ）に
格納してご利用ください。

** wslstart

cygstart 的コマンドです。

詳しくは以下を参照してください。

- [[https://www49.atwiki.jp/ntemacs/pages/62.html][WSL で cygstart 的コマンドを使うための設定]]

また、スクリプトの初めにあるコメントも参照ください。

** sglstart

singleton な動きをする cygstart 的コマンドです。

詳しくは以下を参照してください。

- [[https://www49.atwiki.jp/ntemacs/pages/63.html][singleton な動きをする cygstart 的コマンドを使うための設定 （WSL版）]]

また、スクリプトの初めにあるコメントも参照ください。

** wslln

ln 的コマンドです。

Windows 10 Fall Creators Update の Windows Subsystem for Linux では、DrvFS ファイルシステム上
にある NTFS シンボリックリンクを表示できるようになりました。ただし、ln コマンドで
NTFS シンボリックリンクを作成することはできません。
本コマンドは、DrvFs ファイルシステム上にシンボリックリンクを作成する場合は NTFS シンボリックリンク
を、DrvFs ファイルシステム以外にシンボリックリンクを作成する場合は WSL 本来のシンボリックリンク
を作成するように動作する ln と mklink の機能をラッパーしたコマンドです。

*** コマンドオプション

**** ● -s オプション

ハードリンクではなく、シンボリックリンクを作成します。
wslln -s target link 実行時のシンボリックリンク作成ルールは、以下のとおりとなります。

|---------------------------+---------------------+----------------------------|
| target が示すのパスの位置 | link を作成する場所 | 代替コマンドの実行方法     |
|---------------------------+---------------------+----------------------------|
| DrvFs 配下                | DrvFs 配下          | mklink を実行              |
| DrvFs 配下以外            | DrvFs 配下          | 許可しない（エラーとする） |
| DrvFs 配下                | DrvFs 配下以外      | ln -s を実行               |
| DrvFs 配下以外            | DrvFs 配下以外      | ln -s を実行               |
|---------------------------+---------------------+----------------------------|

**** ● -f オプション

リンクファイルが存在する場合、削除してからリンクファイルを作成します。

**** ● -a オプション

ターゲットファイルのパスを絶対パスに変換（readlink -m）してからリンクを作成します。
ln コマンドには無いオプションとなります。

*** emacs との連携

以下の説明を参照してください。

- [[https://www49.atwiki.jp/ntemacs/pages/73.html][WSL で NTFS シンボリックリンクを作成するための設定]]
